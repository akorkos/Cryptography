%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% For Greek Chars using pdfLaTeX                                       %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage[english, greek]{babel}
\usepackage{fontspec}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Other useful packages                                                %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage[x11names]{xcolor}
\usepackage[pdfusetitle]{hyperref}
\usepackage[most]{tcolorbox}
\usepackage[bf]{caption} 
\usepackage[automark]{scrlayer-scrpage}
\usepackage[newfloat]{minted}
\usepackage{amssymb, bm}
\usepackage{enumerate}
\usepackage{multicol}
\usepackage{float}
\usepackage{array,tabularx}
\usepackage{fontawesome5}
\usepackage{colortbl}
\usepackage{dirtree}
\usepackage{menukeys}
\usepackage{mathtools}
\usepackage{listings}
\usepackage{amsthm}
\usepackage{mdframed}
\usepackage{accsupp}
\usepackage{multirow}
\usepackage{breqn}
\usepackage{cancel}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Shortcut creation                                                    %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\let\b\textbf
\let\t\texttt
\let\u\underline

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Font Setup                                                           %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\setmainfont{Open Sans}
\setmonofont{Droid Sans Mono}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Pagestyle options                                                    %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\clearpairofpagestyles 
\newlength{\headerrulelength}
\setlength{\headerrulelength}{3ex}

\newcommand*{\headerrule}{
    \rule[-1ex]{0.1em}{\headerrulelength}
}

% Define headers:
\lehead{% Left, even head
    \llap{
        \pagemark\enskip\headerrule
    }
    \enskip\headmark
}

\rohead{% Right, odd head
    \headmark\enskip
    \rlap{
        \headerrule\enskip\pagemark
    }
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Color definition                                                     %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\colorlet{g1}{black!70}
\colorlet{g3}{black!40}
\colorlet{g6}{black!05}
\definecolor{darklink}{RGB}{48, 62, 116}
\definecolor{darklinkGreen}{RGB}{65, 107, 60}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Caption options                                                      %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\addto\captionsenglish{\renewcommand{\figurename}{Σχήμα}}
\addto\captionsenglish{\renewcommand{\tablename}{Πίνακας}}
\addto\captionsenglish{\renewcommand{\bibname}{Πηγές}}
\addto\captionsenglish{\renewcommand{\lstlistingname}{Κώδικας}}
\addto\captionsenglish{\renewcommand{\listingname}{Κώδικας}}
\addto\captionsenglish{\renewcommand{\chaptername}{Κεφάλαιο}}
\addto\captionsenglish{\renewcommand{\contentsname}{Περιεχόμενα}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Hyperref options                                                     %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\hypersetup{
    colorlinks=true,
    allcolors=darklink,
    urlcolor=darklinkGreen,
    plainpages=false,
    pdftitle={Homework 1},
    pdfsubject={Συμμετρική Κρυπτογραφία},
    pdfcreator={LaTeX with hyperref},
    pdfauthor={Alexandros Korkos},
    bookmarksnumbered=true
}

\newcommand{\Rule}{\rule{\linewidth}{0.5mm}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Code snippets options                                                %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\setminted{
    autogobble=true,
    fontsize=\footnotesize,
    breaklines=true,
    breakanywhere=false, 
    breakbytokenanywhere=true, 
    %escapeinside=¬¬,
    frame=leftline, 
    framerule=1pt,
    rulecolor=\color{g3},
    numbers=left,
    numberfirstline=true, 
    stepnumber=1, 
    numbersep=2pt, 
    style=manni,
}

\SetupFloatingEnvironment{listing}{name={Κώδικας}}

\newenvironment{longlisting}{\captionsetup{type=listing}}{}

\newcommand*{\emptyaccsupp}[1]{%
        \BeginAccSupp{ActualText={}}#1\EndAccSupp{}%
}%

\renewcommand*{\theFancyVerbLine}{ % Redefine how line numbers are printed
        \textcolor{g3}{\ttfamily\tiny\emptyaccsupp{\arabic{FancyVerbLine}}}
}
